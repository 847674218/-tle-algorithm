packag org apach cassandra thrift licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens import java net inet socket address import java net socket import java net socket import org apach cassandra servic socket session manag servic import org apach thrift transport nonblock server socket import org apach thrift transport nonblock socket import org apach thrift transport transport import org slf logger import org slf logger factori public class custom nonblock server socket extend nonblock server socket privat static final logger logger logger factori logger custom nonblock server socket class privat final boolean aliv privat final integ send buffer size privat final integ recv buffer size public custom nonblock server socket inet socket address bind addr boolean aliv integ send buffer size integ recv buffer size throw transport super bind addr aliv aliv send buffer size send buffer size recv buffer size recv buffer size overrid protect nonblock socket accept impl throw transport nonblock socket tsocket super accept impl tsocket null tsocket socket channel null return tsocket socket socket tsocket socket channel socket clean inform socket session manag servic instanc remov socket remot socket address tri socket set aliv aliv catch socket logger warn fail set aliv thrift socket send buffer size null tri socket set send buffer size send buffer size int valu catch socket logger warn fail set send buffer size thrift socket recv buffer size null tri socket set receiv buffer size recv buffer size int valu catch socket logger warn fail set receiv buffer size thrift socket return tsocket 