licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra sstabl import java import java util import org slf logger import org slf logger factori import org apach cassandra commitlog replay posit import org apach cassandra util file util import org apach cassandra util estim histogram metadata tabl metadata includ estim row size histogram estim column count histogram replay posit max column timestamp compress ratio partition generat sstabl sstabl compact ani tabl metadata instanti collector open descriptor creat default instanc public class tabl metadata privat static logger logger logger factori logger tabl metadata class public static final tabl metadata serial serial tabl metadata serial public final estim histogram estim row size public final estim histogram estim column count public final replay posit replay posit public final long max timestamp public final doubl compress ratio public final string partition public final set integ ancestor privat tabl metadata default row size histogram default column count histogram replay posit long doubl null collect integ empti set privat tabl metadata estim histogram row size estim histogram column count replay posit replay posit long max timestamp doubl string partition set integ ancestor estim row size row size estim column count column count replay posit replay posit max timestamp max timestamp compress ratio partition partition ancestor ancestor public static tabl metadata creat default instanc return tabl metadata public static collector creat collector return collector static estim histogram default column count histogram track max valu column return estim histogram static estim histogram default row size histogram track max valu return estim histogram public static class collector protect estim histogram estim row size default row size histogram protect estim histogram estim column count default column count histogram protect replay posit replay posit replay posit protect long max timestamp long protect doubl compress ratio doubl protect set integ ancestor hash set integ public void add row size long row size estim row size add row size public void add column count long column count estim column count add column count ratio compress uncompress compress isn public void add compress ratio long compress long uncompress compress ratio doubl compress uncompress public void updat max timestamp long potenti max max timestamp math max max timestamp potenti max public tabl metadata final metadata string partition return tabl metadata estim row size estim column count replay posit max timestamp compress ratio partition ancestor public collector estim row size estim histogram estim row size estim row size estim row size return public collector estim column count estim histogram estim column count estim column count estim column count return public collector replay posit replay posit replay posit replay posit replay posit return public collector add ancestor int generat ancestor add generat return public static class tabl metadata serial privat static final logger logger logger factori logger tabl metadata serial class public void serial tabl metadata sstabl stat data output dos throw assert sstabl stat partition null estim histogram serial serial sstabl stat estim row size dos estim histogram serial serial sstabl stat estim column count dos replay posit serial serial sstabl stat replay posit dos dos write long sstabl stat max timestamp dos write doubl sstabl stat compress ratio dos write sstabl stat partition dos write int sstabl stat ancestor size integ sstabl stat ancestor dos write int public tabl metadata deseri descriptor descriptor throw logger debug load metadata descriptor file stat file file descriptor filenam tabl stat file exist logger debug sstabl stat descriptor return tabl metadata data input stream dis data input stream buffer input stream file input stream stat file tri return deseri dis descriptor final file util close quiet dis public tabl metadata deseri data input stream dis descriptor desc throw estim histogram row size estim histogram serial deseri dis estim histogram column count estim histogram serial deseri dis replay posit replay posit desc metadata includ replay posit replay posit serial deseri dis replay posit desc metadata includ modern replay posit replay posit futur older version generat nanotim don omit replay someth replay posit replay posit long max timestamp desc timestamp dis read long long desc track max timestamp javadoc descriptor timestamp max timestamp long doubl compress ratio desc compress ratio dis read doubl doubl string partition desc partition dis read null int ancestor desc ancestor dis read int set integ ancestor hash set integ ancestor int ancestor ancestor add dis read int return tabl metadata row size column count replay posit max timestamp compress ratio partition ancestor 