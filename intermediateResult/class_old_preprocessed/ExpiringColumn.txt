licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra import java import java nio byte buffer import java secur messag digest import org apach cassandra config meta data import org apach cassandra marshal abstract type import org apach cassandra marshal marshal import org apach cassandra column serial import org apach cassandra util data output buffer import org apach cassandra util alloc import org apach cassandra util byte buffer util import org apach cassandra util heap alloc altern column expir time expir column immut column note expir column doe overrid column mark delet unintuit posit delet expir time becam delet becaus ttl server side measur mix timestamp field client suppli resolut assum anyth public class expir column extend column public static final int year privat final int local expir time privat final int time live public expir column byte buffer byte buffer valu long timestamp int time live valu timestamp time live int system current time milli time live public expir column byte buffer byte buffer valu long timestamp int time live int local expir time super valu timestamp assert time live time live assert local expir time local expir time time live time live local expir time local expir time return delet column expir column public static column creat byte buffer byte buffer valu long timestamp int time live int local expir time int expir befor column serial flag flag local expir time expir befor flag column serial flag return expir column valu timestamp time live local expir time column expir safe return simpl tombston return delet column local expir time timestamp public int time live return time live overrid public int size expir column add column byte local expir time byte time live return super size constant int size constant int size overrid public void updat digest messag digest digest digest updat duplic digest updat valu duplic data output buffer buffer data output buffer tri buffer write long timestamp buffer write byte serial flag buffer write int time live catch throw runtim digest updat buffer data buffer length overrid public int local delet time return local expir time overrid public column local copi column famili store cfs return expir column cfs intern copi heap alloc instanc byte buffer util clone valu timestamp time live local expir time overrid public column local copi column famili store cfs alloc alloc byte buffer clone cfs mayb intern clone null clone alloc clone return expir column clone alloc clone valu timestamp time live local expir time overrid public string string abstract type compar string builder string builder append super string compar append append time live return string overrid public long mark delet mark delet return timestamp els throw illeg state column mark delet overrid public int serial flag return column serial overrid public void valid field meta data metadata throw marshal super valid field metadata time live throw marshal column local expir time throw marshal local expir time negat overrid public boolean equal object super equal return fals counter column return super equal local expir time expir column local expir time time live expir column time live overrid public int hash code int result super hash code result result local expir time result result time live return result 