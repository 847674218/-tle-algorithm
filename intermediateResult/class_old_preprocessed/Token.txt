licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra dht import java data input import java data output import java import java serializ import java nio byte buffer import org apach cassandra config configur import org apach cassandra row posit import org apach cassandra serial import org apach cassandra servic storag servic import org apach cassandra util byte buffer util public abstract class token implement ring posit token serializ privat static final long serial version privat static final token serial serial token serial public static token serial serial return serial public final token protect token token token token determin comparison node destin purpos abstract public int compar token overrid public string string return token string overrid public boolean equal object obj obj return true obj null class obj class return fals return token equal token obj token overrid public int hash code return token hash code public static abstract class token factori public abstract byte buffer byte array token token public abstract token byte array byte buffer byte public abstract string string token token serial string necessarili human readabl public abstract token string string string deseri public abstract void valid string token throw configur public static class token serial implement serial token public void serial token token data output dos throw partition storag servic partition byte buffer token factori byte array token byte buffer util write length dos public token deseri data input dis throw partition storag servic partition int size dis read int byte byte byte size dis read fulli byte return token factori byte array byte buffer wrap byte public long serial size token object throw unsupport oper public token token return public boolean minimum partition partition return equal partition minimum token public boolean minimum return minimum storag servic partition token correspond rang key token token compar direct key abl select key token introduc fake key token bound key fake key repres bound repres word bound key smallest key token upper bound key fake key repres upper bound repres word upper bound key largest key token note fake key onli comparison key select key onli token public key bound min key bound partition partition return key bound true public key bound min key bound return min key bound null public key bound max key bound partition partition token min key bound max key bound becaus token correspond rang key minimun token correspond key valid actual simpler associ valu min key bound max key bound minimun token minimum partition return min key bound return key bound fals public key bound max key bound return max key bound storag servic partition public extend ring posit upper bound class klass klass equal class return els return max key bound public static class key bound extend row posit privat final token token public final boolean minimum bound privat key bound token boolean minimum bound token minimum bound minimum bound public token token return token public int compar row posit pos pos return int cmp token compar pos token cmp return cmp minimum bound return pos instanceof key bound key bound pos minimum bound els return pos instanceof key bound key bound pos minimum bound public boolean minimum partition partition return token minimum partition public row posit kind kind return minimum bound row posit kind row posit kind overrid public boolean equal object obj obj return true obj null class obj class return fals key bound key bound obj return token equal token minimum bound minimum bound overrid public int hash code return token hash code minimum bound overrid public string string return string format minimum bound min max token string 