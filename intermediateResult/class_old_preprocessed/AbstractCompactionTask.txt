licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra compact import java util collect import java util set import java import org apach cassandra sstabl tabl reader import org apach cassandra column famili store import org apach cassandra compact compact manag compact executor stat collector public abstract class abstract compact task protect column famili store cfs protect collect tabl reader sstabl public abstract compact task column famili store cfs collect tabl reader sstabl cfs cfs sstabl sstabl public abstract int execut compact executor stat collector collector throw public column famili store column famili store return cfs public collect tabl reader tabl return sstabl tri mark sstabl compact compact return true sstabl mark compact fals otherwis call befor call execut moreov unmark tabl alway call execut method return true public boolean mark tabl compact return mark tabl compact cfs minimum compact threshold cfs maximum compact threshold public boolean mark tabl compact int min int max set tabl reader mark cfs data tracker mark compact sstabl min max mark null mark empti cancel return fals sstabl mark return true public void unmark tabl cfs data tracker unmark compact sstabl overriden action perform task won execut sstabl mark success protect void cancel public string string return compact task sstabl 