licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra config import java import java lang reflect constructor import java lang reflect invoc target import java nio byte buffer import java util import googl common collect map differ import googl common collect map import org apach common lang string util import org apach common lang builder equal builder import org apach common lang builder hash code builder import org apach common lang builder string builder import org slf logger import org slf logger factori import org apach cassandra cql definit import org apach cassandra cql queri processor import org apach cassandra cql untyp result set import org apach cassandra import org apach cassandra compact abstract compact strategi import org apach cassandra index secondari index import org apach cassandra marshal import org apach cassandra column serial import org apach cassandra compress compress paramet import org apach cassandra compress snappi compressor import org apach cassandra thrift def import org apach cassandra thrift index type import org apach cassandra thrift invalid request import org apach cassandra util byte buffer util import org apach cassandra util util import static org apach cassandra util util public final class meta data import class tricki modifi pleas read http wiki apach org cassandra configur note safe privat static logger logger logger factori logger meta data class public final static doubl public final static doubl public final static boolean true public final static int public final static int public final static int public final static string size tier compact strategi public final static byte buffer byte buffer util byte public final static cach cach public final static doubl null note default onli user creat tabl public final static string snappi compressor avail snappi compressor class canon null public static final meta data status system metadata system tabl persist metadata local node byte type instanc null public static final meta data hint system metadata hint hand manag hint handoff data byte type instanc byte type instanc deprec public static final meta data migrat system metadata def tabl individu schema mutat time type instanc null deprec public static final meta data schema system metadata def tabl current state schema type instanc null public static final meta data index system metadata system tabl index complet type instanc null public static final meta data node system metadata system tabl node metadata time type instanc null public static final meta data version system metadata system tabl server version inform type instanc null key alia byte buffer util byte compon key valid type instanc column metadata collect singleton map byte buffer util byte version column definit byte buffer util byte version type instanc null null null null style schema public static final meta data schema keyspac public static final meta data schema column famili public static final meta data schema column static schema keyspac schema metadata system tabl keyspac definit ascii type instanc null key valid ascii type instanc key alia keyspac column metadata column definit utf null column definit bool durabl write null column definit ascii strategi class null column definit ascii strategi option null schema column famili schema metadata system tabl column famili definit composit type instanc array abstract type list ascii type instanc ascii type instanc null key valid ascii type instanc key alia keyspac column alias array list byte buffer util byte columnfamili column metadata column definit int column definit ascii type column definit ascii compar column definit ascii subcompar column definit utf comment column definit doubl read repair chanc column definit doubl local read repair chanc column definit bool replic write column definit int grace column definit ascii default valid column definit ascii key valid column definit int min compact threshold column definit int max compact threshold column definit ascii key alia column definit doubl bloom filter chanc column definit ascii cach column definit ascii compact strategi class column definit ascii compress paramet column definit utf valu alia column definit utf column alias column definit ascii compact strategi option schema column schema metadata system tabl column famili column attribut composit type instanc array abstract type list ascii type instanc ascii type instanc ascii type instanc null key valid ascii type instanc key alia keyspac column alias array list byte buffer util byte columnfamili byte buffer util byte column column metadata column definit ascii valid column definit ascii index type column definit ascii index option column definit ascii index column definit ascii compon index public enum cach public static cach string string cach throw configur tri return valu cach upper case catch illeg argument throw configur string format avail type cach string util join valu public final integ intern expos user public final string keyspac public final string column famili public final column famili type type standard super public abstract type compar byte long timeuuid utf public abstract type subcolumn compar compar supercolumn privat string comment default human onli privat doubl read repair chanc default alway chanc read repair privat doubl local read repair chanc default privat boolean replic write default fals privat int grace default ten day privat abstract type default valid default byte type compar type privat abstract type key valid default byte type compar type privat int min compact threshold default privat int max compact threshold default privat byte buffer key alia default privat list byte buffer column alias array list byte buffer privat byte buffer valu alia default privat doubl bloom filter chanc default privat cach cach default possibl key onli row onli map byte buffer column definit column metadata public class extend abstract compact strategi compact strategi class public map string string compact strategi option public compress paramet compress paramet process info fulli reconstruct medata save disk howev costlyish recreat queri cach updat relev metadata chang privat definit cql def public meta data comment string prop comment enforc comment null prop return public meta data read repair chanc doubl prop read repair chanc prop return public meta data local read repair chanc doubl prop local read repair chanc prop return public meta data replic write boolean prop replic write prop return public meta data grace int prop grace prop return public meta data default valid abstract type prop default valid prop updat def return public meta data key valid abstract type prop key valid prop updat def return public meta data min compact threshold int prop min compact threshold prop return public meta data max compact threshold int prop max compact threshold prop return public meta data key alia byte buffer prop key alia prop updat def return public meta data key alia string alia return key alia byte buffer util byte alia public meta data column alias list byte buffer prop column alias prop updat def return public meta data valu alia byte buffer prop valu alia prop updat def return public meta data column metadata map byte buffer column definit prop column metadata prop updat def return public meta data column metadata column definit cds map byte buffer column definit map hash map byte buffer column definit column definit cds map put return column metadata map public meta data compact strategi class class extend abstract compact strategi prop compact strategi class prop return public meta data compact strategi option map string string prop compact strategi option prop return public meta data compress paramet compress paramet prop compress paramet prop return public meta data bloom filter chanc doubl prop bloom filter chanc prop return public meta data cach cach prop cach prop return public meta data string keyspac string column famili type type abstract type comp abstract type subcc keyspac type comp subcc schema instanc meta data string keyspac string column famili type type abstract type comp abstract type subcc int final field set constructor keyspac type type compar comp subcolumn compar enforc subcc default type subcc system cfs specif id copi copi init privat abstract type enforc subcc default column famili type cftype abstract type subcc return subcc null cftype column famili type super byte type instanc subcc privat static string enforc comment null char sequenc comment return comment null comment string privat void init set bunch default read repair chanc local read repair chanc replic write grace min compact threshold max compact threshold cach bloom filter chanc default strang simpl default valid byte type instanc key valid byte type instanc comment key alia null qualifi strang default valu alia null column metadata hash map byte buffer column definit tri compact strategi class creat compact strategi catch configur throw assert error compact strategi option hash map string string compress paramet compress paramet null updat def init cql def privat static meta data system metadata string int string comment abstract type compar abstract type subcc column famili type type subcc null column famili type standard column famili type super meta data meta data tabl type compar subcc return comment comment read repair chanc local read repair chanc grace privat static meta data schema metadata string int string comment abstract type compar abstract type subcc schema column famili grace sinc replic everi node grace high node dead long time int grace month return system metadata comment compar subcc grace grace public static meta data index metadata meta data parent column definit info abstract type column compar depend parent cach set turn index cach onli key cach enabl key index row cach turn depend cardin cach index cach parent cach cach parent cach cach cach cach return meta data parent parent index column famili info column famili type standard column compar null key valid info valid read repair chanc local read repair chanc grace cach index cach compact strategi class parent compact strategi class compact strategi option parent compact strategi option reload secondari index metadata parent public meta data reload secondari index metadata meta data parent min compact threshold parent min compact threshold max compact threshold parent max compact threshold compact strategi class parent compact strategi class compact strategi option parent compact strategi option compress paramet parent compress paramet return public meta data clone return copi opt meta data type compar subcolumn compar creat chang public static meta data renam meta data cfm string return copi opt meta data cfm cfm type cfm compar cfm subcolumn compar cfm cfm static meta data copi opt meta data meta data map byte buffer column definit clone column hash map byte buffer column definit column definit column metadata valu column definit clone clone clone column put clone clone return comment comment read repair chanc read repair chanc local read repair chanc local read repair chanc replic write replic write grace grace default valid default valid key valid key valid min compact threshold min compact threshold max compact threshold max compact threshold key alia key alia column alias array list byte buffer column alias valu alia valu alia column metadata clone column compact strategi class compact strategi class compact strategi option compact strategi option compress paramet compress paramet bloom filter chanc bloom filter chanc cach cach generat column famili index correspond column index onli sstabl filenam expos user param info definit column index return index column famili public string index column famili column definit info simplifi info index guarante set return directori info index null byte buffer util byte hex info info index public string comment return comment public doubl read repair chanc return read repair chanc public doubl local read repair return local read repair chanc public boolean replic write return replic write public int grace return grace public abstract type default valid return default valid public abstract type key valid return key valid public integ min compact threshold return min compact threshold public integ max compact threshold return max compact threshold public byte buffer key return key alia null key alia public byte buffer key alia return key alia public list byte buffer column alias return column alias public byte buffer valu alia return valu alia public compress paramet compress paramet return compress paramet public map byte buffer column definit column metadata return collect unmodifi map column metadata public abstract type compar byte buffer super column return super column null compar subcolumn compar public doubl bloom filter chanc return bloom filter chanc public cach cach return cach public boolean equal object obj obj return true els obj null obj class class return fals meta data rhs meta data obj return equal builder append rhs append rhs append type rhs type append compar rhs compar append subcolumn compar rhs subcolumn compar append comment rhs comment append read repair chanc rhs read repair chanc append local read repair chanc rhs local read repair chanc append replic write rhs replic write append grace rhs grace append default valid rhs default valid append key valid rhs key valid append min compact threshold rhs min compact threshold append max compact threshold rhs max compact threshold append int valu rhs int valu append column metadata rhs column metadata append key alia rhs key alia append column alias rhs column alias append valu alia rhs valu alia append compact strategi class rhs compact strategi class append compact strategi option rhs compact strategi option append compress paramet rhs compress paramet append bloom filter chanc rhs bloom filter chanc append cach rhs cach equal public int hash code return hash code builder append append append type append compar append subcolumn compar append comment append read repair chanc append local read repair chanc append replic write append grace append default valid append key valid append min compact threshold append max compact threshold append append column metadata append key alia append column alias append valu alia append compact strategi class append compact strategi option append compress paramet append bloom filter chanc append cach hash code public abstract type valu valid byte buffer column return valu valid column metadata column public abstract type valu valid column definit column definit return column definit null default valid column definit valid appli implicit default definit updat public static void appli implicit default org apach cassandra thrift def def def set comment def set comment def set replic write def set replic write meta data def set min compact threshold def set min compact threshold meta data def set max compact threshold def set max compact threshold meta data null def compact strategi def compact strategi null def compact strategi option def compact strategi option collect empti map def set compress option def set compress option hash map string string null put compress paramet def set dclocal read repair chanc def set dclocal read repair chanc meta data public static meta data thrift org apach cassandra thrift def def throw invalid request configur column famili type type column famili type creat def column type type null throw invalid request invalid column type def column type appli implicit default def meta data meta data def keyspac def type type parser pars def compar type def subcompar type null null type parser pars def subcompar type def set def schema instanc def set grace grace def grace def set min compact threshold min compact threshold def min compact threshold def set max compact threshold max compact threshold def max compact threshold def set key alia key alia def key alia def set key valid class key valid type parser pars def key valid class def set compact strategi compact strategi class creat compact strategi def compact strategi def set compact strategi option compact strategi option hash map string string def compact strategi option def set bloom filter chanc bloom filter chanc def bloom filter chanc def set cach cach cach string def cach def set read repair chanc read repair chanc def read repair chanc def set dclocal read repair chanc local read repair chanc def dclocal read repair chanc compress paramet compress paramet creat def compress option tri return comment def comment replic write def replic write default valid type parser pars def default valid class key valid type parser pars def key valid class column metadata column definit thrift def column metadata compress paramet catch marshal throw configur messag public void reload throw row def row system tabl read schema row def row null def row empti throw string format schema definit tabl tri appli schema def row catch configur throw updat meta data place match def note method left public onli def test don direct throw configur id didn match public void appli meta data cfm throw configur logger debug appli cfm valid cfm equal throw configur string format keyspac mismatch expect cfm cfm equal throw configur string format column famili mismatch expect cfm cfm equal throw configur string format column famili mismatch expect cfm cfm type equal type throw configur type match cfm compar compat compar throw configur compar match compat cfm subcolumn compar null subcolumn compar null throw configur subcolumncompar match els null good els cfm subcolumn compar compat subcolumn compar throw configur subcolumncompar match note compat method probabl return meta data compar subcolumn compar final updat appli atom compar cfm compar subcolumn compar cfm subcolumn compar compact threshold check thrift valid shouldn valid appli path late comment enforc comment null cfm comment read repair chanc cfm read repair chanc local read repair chanc cfm local read repair chanc replic write cfm replic write grace cfm grace default valid cfm default valid key valid cfm key valid min compact threshold cfm min compact threshold max compact threshold cfm max compact threshold key alia cfm key alia don updat thrift eras column alias valu alia wrong expos throught thrift onli overrid valu set note doesn remov featur side sinc remov column alias valu alia sensic actual updat possibl cfm column alias empti column alias cfm column alias cfm valu alia null valu alia cfm valu alia bloom filter chanc cfm bloom filter chanc cach cfm cach map differ byte buffer column definit column diff map differ column metadata cfm column metadata column longer column definit column diff entri onli left valu column metadata remov newli ad column column definit column diff entri onli valu column metadata put column updat attribut byte buffer column diff entri differ key set column definit def column metadata column definit def cfm column metadata def appli def column definit compar def compact strategi class cfm compact strategi class compact strategi option cfm compact strategi option compress paramet cfm compress paramet updat def logger debug applic result public static class extend abstract compact strategi creat compact strategi string class throw configur class class class org apach cassandra compact class return util class class compact strategi public abstract compact strategi creat compact strategi instanc column famili store cfs tri constructor extend abstract compact strategi constructor compact strategi class constructor class column famili store class map class option return constructor instanc cfs compact strategi option catch method throw runtim catch instanti throw runtim catch illeg access throw runtim catch invoc target throw runtim convert thrift def public org apach cassandra thrift def thrift org apach cassandra thrift def def org apach cassandra thrift def def set def set column type type def set compar type compar string subcolumn compar null assert type column famili type super string format subcompar defin type subcolumn compar def set subcompar type subcolumn compar string def set comment enforc comment null comment def set read repair chanc read repair chanc def set dclocal read repair chanc local read repair chanc def set replic write replic write def set grace grace def set default valid class default valid null null default valid string def set key valid class key valid string def set min compact threshold min compact threshold def set max compact threshold max compact threshold def set key alia key alia list org apach cassandra thrift column def column meta array list org apach cassandra thrift column def column metadata size column definit column metadata valu null compon index onli don expos thrift compon index null column meta add thrift def set column metadata column meta def set compact strategi compact strategi class def set compact strategi option hash map string string compact strategi option def set compress option compress paramet thrift option bloom filter chanc null def set bloom filter chanc bloom filter chanc def set cach cach string return def public column definit column definit byte buffer return column metadata public column definit column definit index string index column definit def column metadata valu index equal def index return def return null convert null index appropri default accord column status public void add default index throw configur column famili updat add previous defin index exist column integ schema instanc null meta data cfm schema instanc meta data map entri byte buffer column definit entri column metadata entri set column definit def entri valu cfm column metadata key entri key def index type null continu string index cfm column metadata entri key index index null continu def index null index equal def index throw configur modifi index index chang def index def set index index set string exist exist index null column definit column column metadata valu column index type null column index null string base default index compar column string index base int exist index index base column set index index public static string default index string abstract type compar byte buffer column return compar string column idx replac public column serial column serial type column famili type standard return column serial return super column serial subcolumn compar public static boolean valid string return null empti length schema match public static boolean index valid string return null empti match public meta data valid throw configur valid throw configur string format keyspac empti charact long alphanumer underscor charact schema valid throw configur string format column famili empti charact long alphanumer underscor charact schema type null throw configur string format invalid column famili type type column famili type super subcolumn compar null throw configur string format subcolumn compar super column famili els subcolumn compar null throw configur string format subcolumn compar invalid standard column famili subcolumn compar compar instanceof counter column type throw configur counter column type valid compar subcolumn compar instanceof counter column type throw configur counter column type valid column compar key valid instanceof counter column type throw configur counter column type valid key valid mix counter counter column support default valid instanceof counter column type column definit def column metadata valu def valid instanceof counter column type throw configur add counter column compar string def counter column famili els column definit def column metadata valu def valid instanceof counter column type throw configur add counter column compar string def counter column famili check ani column equal key alia column definit columndef column metadata valu key alia null key alia equal columndef throw configur key alia equal column type instanc compos key alia byte buffer alia column alias alia equal columndef throw configur column alia equal column type instanc compos alia valu alia null valu alia equal columndef throw configur valu alia equal column type instanc compos valu alia valid alia key alia key byte buffer alia column alias valid alia alia column valid alia valu alia valu initi set set string index exist index column definit column metadata valu abstract type compar column definit compar tri compar valid catch marshal throw configur string format column valid compar byte buffer util byte hex compar index type null index null throw configur index set index type els type column famili type super throw configur secondari index support super column famili index valid index throw configur illeg index index check index global index index throw configur duplic index index index add index index type index type index option null index option key secondari index throw configur requir index option secondari index method valid column metadata doe intial index secondari index creat instanc null valid compact threshold return privat static set string exist index string exclud set string index hash set string column famili store cfs column famili store exclud null cfs column famili equal exclud column definit cfs metadata column metadata valu index add index return index privat static void valid alia byte buffer alia string msg throw configur alia null alia remain throw configur msg alia empti tri type instanc valid alia catch marshal throw configur msg alia privat void valid compact threshold throw configur max compact threshold return min compact threshold throw configur string format min compact threshold min compact threshold min compact threshold max compact threshold throw configur string format min compact threshold greater max compact threshold min compact threshold max compact threshold creat schema mutat updat metadata provid state param state metadata param modif timestamp timestamp mutat return differ attribut form schema mutat public row mutat schema updat meta data state long modif timestamp row mutat row mutat tabl system tabl schema key state schema column modif timestamp map differ byte buffer column definit column diff map differ column metadata state column metadata column longer column definit column diff entri onli left valu delet schema column definit compar modif timestamp newli ad column column definit column diff entri onli valu schema column definit compar modif timestamp column updat attribut byte buffer column diff entri differ key set column definit state column definit schema column definit compar modif timestamp return remov attribut schema param timestamp timestamp return row mutat complet remov schema public row mutat drop schema long timestamp row mutat row mutat tabl system tabl schema key column famili add system tabl int ldt int system current time milli add column delet column creat ldt timestamp add column delet column creat ldt timestamp type add column delet column creat ldt timestamp compar add column delet column creat ldt timestamp subcompar add column delet column creat ldt timestamp comment add column delet column creat ldt timestamp read repair chanc add column delet column creat ldt timestamp local read repair chanc add column delet column creat ldt timestamp replic write add column delet column creat ldt timestamp grace add column delet column creat ldt timestamp default valid add column delet column creat ldt timestamp key valid add column delet column creat ldt timestamp min compact threshold add column delet column creat ldt timestamp max compact threshold add column delet column creat ldt timestamp key alia add column delet column creat ldt timestamp bloom filter chanc add column delet column creat ldt timestamp cach add column delet column creat ldt timestamp compact strategi class add column delet column creat ldt timestamp compress paramet add column delet column creat ldt timestamp valu alia add column delet column creat ldt timestamp column alias add column delet column creat ldt timestamp compact strategi option column definit column metadata valu delet schema column definit compar timestamp return public void schema row mutat long timestamp schema column timestamp column definit column metadata valu schema column definit compar timestamp privat void schema column row mutat long timestamp properti null chang insert tombston don properti user remov column famili add system tabl int ldt int system current time milli add column column creat timestamp add column column creat type string timestamp type add column column creat compar string timestamp compar subcolumn compar null add column column creat subcolumn compar string timestamp subcompar add column comment null delet column creat ldt timestamp comment column creat comment timestamp comment add column column creat read repair chanc timestamp read repair chanc add column column creat local read repair chanc timestamp local read repair chanc add column column creat replic write timestamp replic write add column column creat grace timestamp grace add column column creat default valid string timestamp default valid add column column creat key valid string timestamp key valid add column column creat min compact threshold timestamp min compact threshold add column column creat max compact threshold timestamp max compact threshold add column key alia null delet column creat ldt timestamp key alia column creat key alia timestamp key alia add column bloom filter chanc null delet column creat ldt timestamp bloom filter chanc column creat bloom filter chanc timestamp bloom filter chanc add column column creat cach string timestamp cach add column column creat compact strategi class timestamp compact strategi class add column column creat json compress paramet thrift option timestamp compress paramet add column valu alia null delet column creat ldt timestamp valu alia column creat valu alia timestamp valu alia add column column creat json column alias string timestamp column alias add column column creat json compact strategi option timestamp compact strategi option packag protect test static meta data schema column untyp result set row result tri meta data cfm meta data result string keyspac result string columnfamili column famili type valu result string type type parser pars result string compar result subcompar type parser pars result string subcompar null result int cfm read repair chanc result doubl read repair chanc cfm local read repair chanc result doubl local read repair chanc cfm replic write result boolean replic write cfm grace result int grace cfm default valid type parser pars result string default valid cfm key valid type parser pars result string key valid cfm min compact threshold result int min compact threshold cfm max compact threshold result int max compact threshold result comment cfm comment result string comment result key alia cfm key alia result byte key alia result bloom filter chanc cfm bloom filter chanc result doubl bloom filter chanc cfm cach cach valu result string cach cfm compact strategi class creat compact strategi result string compact strategi class cfm compress paramet compress paramet creat json map result string compress paramet result valu alia cfm valu alia result byte valu alia cfm column alias column alias string json list result string column alias cfm compact strategi option json map result string compact strategi option return cfm catch configur throw runtim deseri metadata level represent return thrift base metadata deseri schema throw ani relat error public static meta data schema untyp result set row result meta data def schema column result row serial column definit column definit read schema def def return add column definit schema def serial column definit updat def privat static meta data schema row row untyp result set row result queri processor resultifi system schema columnfamili row return schema result privat list string column alias string list string alias array list string column alias size byte buffer raw alia column alias alias add type instanc compos raw alia return alias privat static list byte buffer column alias string list string alias list byte buffer raw alias array list byte buffer alias size string alia alias raw alias add type instanc decompos alia return raw alias convert current metadata schema mutat param timestamp timestamp return level represent throw configur ani attribut didn pass valid public row mutat schema long timestamp throw configur row mutat row mutat tabl system tabl schema key schema timestamp return public abstract type column definit compar column definit def return column definit compar def compon index public abstract type column definit compar integ compon index abstract type compar type column famili type super subcolumn compar compar compar instanceof composit type compon index null return compar list abstract type type composit type compar type abstract type type compon index assert null sensic compon index return els return compar packag protect test static meta data add column definit schema meta data def row serial column definit column definit column definit schema serial column definit def def column metadata put return def public void add column definit column definit def column metadata put def def public boolean remov column definit column definit def return column metadata remov def null privat meta data updat def cql def definit return public definit def assert cql def null return cql def overrid public string string return string builder append append append append type type append compar compar append subcolumncompar subcolumn compar append comment comment append read repair chanc read repair chanc append dclocal read repair chanc local read repair chanc append replic write replic write append grace grace append default valid default valid append key valid key valid append min compact threshold min compact threshold append max compact threshold max compact threshold append key alia key alia append column alias column alias append valu alia valu alia append column metadata column metadata append compact strategi class compact strategi class append compact strategi option compact strategi option append compress option compress paramet thrift option append bloom filter chanc bloom filter chanc append cach cach string 