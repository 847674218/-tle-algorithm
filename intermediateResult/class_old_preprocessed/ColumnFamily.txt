licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra import static org apach cassandra constant import java nio byte buffer import java secur messag digest import org apach common lang builder hash code builder import org apach cassandra cach row cach entri import org apach cassandra config meta data import org apach cassandra config schema import org apach cassandra filter queri path import org apach cassandra marshal abstract type import org apach cassandra marshal marshal import org apach cassandra column serial import org apach cassandra util alloc import org apach cassandra util byte buffer util import org apach cassandra util util import org apach cassandra util heap alloc public class column famili extend abstract column implement row cach entri public static final column famili serial serial column famili serial privat final meta data cfm public static column famili serial serial return serial public static column famili creat integ return creat schema instanc meta data public static column famili creat integ sort column factori factori return creat schema instanc meta data factori public static column famili creat string tabl string return creat schema instanc meta data tabl public static column famili creat meta data cfm return creat cfm tree map sort column factori public static column famili creat meta data cfm sort column factori factori return creat cfm factori fals public static column famili creat meta data cfm sort column factori factori boolean revers insert order return column famili cfm factori creat cfm compar revers insert order protect column famili meta data cfm sort column map super map assert cfm null cfm cfm public column famili clone shallow sort column factori factori boolean revers insert order column famili column famili creat cfm factori revers insert order delet return public column famili clone shallow return clone shallow column factori column insert revers public abstract type compar column serial column serial return instanceof super column serial super column serial compar null public column famili type type return cfm type public column famili clone column famili column famili cfm column clone delet return public integ return cfm return meta data row public meta data metadata return cfm public column serial column serial return cfm column serial public boolean super return type column famili type super add clone super column necessari avoid refer structur public void add copi column famili alloc alloc super column column add column super column clone alloc delet els add alloc public void add column queri path path byte buffer valu long timestamp add column path valu timestamp public void add column queri path path byte buffer valu long timestamp int time live assert path column null path assert metadata default valid commut column column time live column expir column path column valu timestamp time live els column column path column valu timestamp add column path super column column public void add counter queri path path long valu assert path column null path add column path super column counter updat column path column valu system current time milli public void add tombston queri path path byte buffer local delet time long timestamp assert path column null path add column path super column delet column path column local delet time timestamp public void add tombston queri path path int local delet time long timestamp assert path column null path add column path super column delet column path column local delet time timestamp public void add tombston byte buffer int local delet time long timestamp add column null delet column local delet time timestamp public void add column byte buffer super column column column column super column null column els assert super super column super column compar add column column check subcolumn add column public void clear column clear function calcul differ column famili extern input assum superset intern public column famili diff column famili composit assert composit equal column famili diff column famili creat cfm composit mark delet mark delet diff delet composit local delet time composit mark delet don worri column shadow delet tombston sinc generat resolv care column column extern composit byte buffer column extern column column intern column column column intern null diff add column column extern els column column diff column intern diff column extern column diff null diff add column column diff diff empti diff mark delet return diff return null int size int size constant long size constant int size tombston track column column column size column size return size public long max timestamp long max timestamp mark delet column column column max timestamp math max max timestamp column max timestamp return max timestamp overrid public int hash code return hash code builder append cfm append mark delet append column hash code overrid public boolean equal object return true null class class return fals column famili comparison column famili return cfm equal comparison cfm mark delet comparison mark delet byte buffer util compar unsign digest digest comparison overrid public string string string builder string builder column famili meta data cfm metadata append cfm null anonym cfm mark delet append delet append mark delet append append append compar column string sort column append return string public static byte buffer digest column famili messag digest digest util thread local digest null updat digest digest return byte buffer wrap digest digest public void updat digest messag digest digest column column column column updat digest digest public static abstract type compar string tabl string column famili byte buffer super column return super column null schema instanc compar tabl column famili schema instanc compar tabl column famili public static column famili diff column famili column famili null return return diff public void resolv column famili resolv heap alloc instanc public void resolv column famili alloc alloc row doe null object necessari evil effici null return add alloc public long serial size return bool size null bool int size serial size tabl public long serial size tabl int size int size local delet time long size client delet time int size column count column column column size column serial size return size goe column check field valid detect corrupt deseri public void valid column field throw marshal meta data metadata metadata column column column valid field metadata 