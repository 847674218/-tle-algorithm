licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra import java nio byte buffer import java util collect import java util iter import java util sort map import java util sort set import googl common base function import org apach cassandra marshal abstract type import org apach cassandra util iter column import org apach cassandra util alloc sort map column repres map colum famili implement thread safe left implement class public interfac sort column extend iter column shallow clone column map public sort column clone return factori sort column implement public factori factori public delet info delet info public void delet delet info info public void mayb reset delet time int befor public void retain sort column column add column column map column alreadi present map replac newli ad column public void add column column column alloc alloc add column column map column map equival code column add code potenti faster return differ size merg column public long add size delta sort column alloc alloc function column column transform add column necessarili comput size delta public void add sort column alloc alloc function column column transform replac column present column return true column present replac column column public boolean replac column column column column remov present column public void remov column byte buffer clear column map remov column public void clear column return null column present public column column byte buffer return set column column map result set sort order column column map public sort set byte buffer column return column column map collect column return collect sort column map public collect column sort column return column column map collect column return collect sort revers order column map public collect column revers sort column return number column map public int size return true map empti fals otherwis public boolean empti return iter iter column map revers order public iter column revers iter return iter column map start column equal greater param start public iter column iter byte buffer start return revers iter column map start column equal lesser param start public iter column revers iter byte buffer start return map onli support insert revers order public boolean insert revers public interfac factori return initi empti column map column sort accord provid compar code insert revers flag hint expect insert perfom sort revers sort order array sort column optim revers slice doe matter thread safe sort column note onli hint expect insert doe chang map sort public sort column creat abstract type compar boolean insert revers return column map column sort accord compar provid sort map assum sort natur order initi column provid sort map code creat descript code insert revers public sort column sort sort map byte buffer column boolean insert revers public static class delet info public final long mark delet public final int local delet time public delet info long integ public delet info long mark delet int local delet time pre node return delet default local delet time integ local delet time integ mark delet mark delet local delet time local delet time 