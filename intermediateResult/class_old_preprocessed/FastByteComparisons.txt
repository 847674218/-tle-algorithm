licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra util import java lang reflect field import java nio byte order import java secur access control import java secur privileg action import sun misc unsaf import googl common primit long import googl common primit unsign byte util code optim byte array comparison borrow slight modifi guava link unsign byte class abl compar array start offset abstract class fast byte comparison lexicograph compar byte array public static int compar byte int int byte int int return lexicograph compar holder compar privat interfac compar abstract public int compar buffer int offset int length buffer int offset int length privat static compar byte lexicograph compar java impl return lexicograph compar holder pure java compar provid lexicograph compar implement java implement faster implement base link unsaf reflect grace fall java implement code unsaf isn avail privat static class lexicograph compar holder static final string lexicograph compar holder class unsaf compar static final compar byte compar return unsaf compar fall pure java implement unabl static compar byte compar tri class class class unsaf compar doe implement compar byte suppress warn uncheck compar byte compar compar byte class enum constant return compar catch throwabl ensur realli catch everyth return lexicograph compar java impl privat enum pure java compar implement compar byte overrid public int compar byte buffer int offset int length byte buffer int offset int length short circuit equal case buffer buffer offset offset length length return int offset length int offset length int offset offset int buffer xff int buffer xff return return length length suppress warn unus reflect privat enum unsaf compar implement compar byte static final unsaf unsaf offset element byte array static final int static unsaf unsaf access control privileg privileg action object overrid public object run tri field unsaf class declar field unsaf set access true return null catch field doesn matter throw swallow compar throw error catch illeg access throw error unsaf array base offset byte class saniti check fail unsaf array index scale byte class throw assert error static final boolean littl endian byte order nativ order equal byte order return true valu treat unsign static boolean unsign long long return long long lexicograph compar array param buffer left operand param buffer operand param offset start compar left buffer param offset start compar buffer param length compar left buffer param length compar buffer return equal left overrid public int compar byte buffer int offset int length byte buffer int offset int length short circuit equal case buffer buffer offset offset length length return int min length math min length length int min word min length long int offset offset int offset offset compar byte time benchmark show compar byte time slower compar byte time bit hand substanti faster bit int min word long long long unsaf long buffer offset long long unsaf long buffer offset long long diff diff littl endian return unsign binari search int int int int diff int diff els return int epilogu cover min length element int min word long min length int result unsign byte compar buffer offset buffer offset result return result return length length 