licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra cql import java nio byte buffer import java util import googl common collect abstract iter import org apach cassandra config meta data import org apach cassandra config column definit import org apach cassandra marshal abstract type import org apach cassandra marshal composit type import org apach cassandra marshal type import org apach cassandra thrift invalid request import org apach cassandra util byte buffer util hold metadata preprocess queri public class definit implement iter definit public static final abstract type definit type type instanc privat static final string key privat static final string column privat static final string valu public final meta data cfm public final key link hash map becaus order doe matter order composit type public final link hash map column identifi column link hash map column identifi public final valu metadata lexicograph order wildcard expans determinist order public final map column identifi metadata tree map column identifi public final boolean composit public final boolean compact public definit meta data cfm cfm cfm key key cfm kind cfm key valid cfm compar instanceof composit type composit true composit type composit composit type cfm compar cfm column metadata empti dens composit compact true int composit type size column identifi column cfm column put kind composit type valu valu cfm kind cfm default valid els spars composit compact fals valu null assert cfm valu alia null int composit type size column identifi column cfm column put kind composit type map entri byte buffer column definit def cfm column metadata entri set column identifi column identifi def key cfm column definit compar def valu metadata put kind def valu valid els composit fals cfm column metadata empti dynam compact true column identifi column cfm kind cfm compar column put valu valu cfm kind cfm default valid els static compact fals valu null assert cfm valu alia null assert cfm column alias null cfm column alias empti map entri byte buffer column definit def cfm column metadata entri set column identifi column identifi def key cfm column definit compar def valu metadata put kind def valu valid assert valu null metadata empti privat static column identifi key meta data cfm return cfm key alia null column identifi fals column identifi cfm key alia definit type privat static column identifi column meta data cfm int list byte buffer defin cfm column alias return defin null defin size column identifi fals column identifi cfm column alias definit type privat static column identifi valu meta data cfm return cfm valu alia null column identifi fals column identifi cfm valu alia definit type public column identifi equal key return key valu null equal valu return valu definit def column def null return def return metadata public iter iter return abstract iter privat boolean key privat final iter column iter column valu iter privat boolean valu privat final iter metadata iter metadata valu iter protect comput key key true return key column iter return column iter valu null valu valu true return valu metadata iter return metadata iter return data public column builder column builder return composit composit type builder composit type cfm compar composit builder cfm compar public abstract type compar result set result set alway howev compat sake method support static column compact composit return cfm compar els return definit type public static class public static enum kind privat column identifi kind kind abstract type type kind type privat column identifi kind kind int posit abstract type type kind kind posit posit type type public final kind kind public final column identifi public final int posit onli sens public final abstract type type overrid public string string fulli convent conveni error messag user return string overrid public string string string builder string builder append key column valu append append append valu null append valu metadata empti append metadata valu append append append append return string privat static class composit builder implement column builder privat final abstract type type privat byte buffer column privat composit builder abstract type type type type public composit builder add byte buffer column null throw illeg state column alreadi construct column return public composit builder add term relat type list byte buffer variabl throw invalid request column null throw illeg state column alreadi construct don support relat type distinct column byte buffer type variabl return public int compon count return column null public byte buffer build return column null byte buffer util column public byte buffer build rang throw illeg state public composit builder copi composit builder builder composit builder type builder column column return builder 