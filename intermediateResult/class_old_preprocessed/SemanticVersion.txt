licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra util import java util regex pattern import java util regex matcher import java util array import org apach common lang string util import googl common base object implement semant version defin http semver org note follow code slight variat document abov doesn dash pre releas build identifi public class semant version implement compar semant version privat static final string privat static final pattern pattern pattern compil public final int major public final int minor public final int patch privat final string pre releas privat final string build privat semant version int major int minor int patch string pre releas string build major major minor minor patch patch pre releas pre releas build build pars semant version string param version string pars throw illeg argument provid string doe repres semant version public semant version string version matcher matcher pattern matcher version matcher match throw illeg argument invalid version valu version http semver org detail tri major integ valu matcher group minor integ valu matcher group patch integ valu matcher group string matcher group string bld matcher group pre releas null empti null pars identifi version build bld null bld empti null pars identifi version bld catch number format throw illeg argument invalid version valu version http semver org detail privat static string pars identifi string version string str drop initi str str substr string part str split string part part part match throw illeg argument invalid version valu version http semver org detail return part public int compar semant version major major return major major return minor minor return minor minor return patch patch return patch patch return int compar identifi pre releas pre releas return return compar identifi build build return version compat version list provid version null instanc find support version find support version find support version null find support version find support version null public semant version find support version semant version version semant version version version support version return version return null public boolean support semant version version return major version major minor version minor privat static int compar identifi string id string id int default pred id null return id null default pred els id null return default pred int min math min id length id length int min integ tri pars int id integ tri pars int id null integ preced null return els return els integ preced null return int id compar id return id length id length return id length id length return return privat static integ tri pars int string str tri return integ valu str catch number format return null overrid public boolean equal object instanceof semant version return fals semant version semant version return major major minor minor patch patch array equal pre releas pre releas array equal build build overrid public int hash code return object hash code major minor patch pre releas build overrid public string string string builder string builder append major append append minor append append patch pre releas null append append string util join pre releas build null append append string util join build return string 