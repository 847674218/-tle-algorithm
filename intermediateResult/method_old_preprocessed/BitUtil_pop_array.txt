public static long pop array long int word offset int num word robert harley david seal bit count algorithm document revis hacker delight http www hackersdelight org revis pdf http www hackersdelight org dcode code pop array function adapt java extend bit word onli access wider regist java function transform comput popcount function bitset someth sed int word offset num word long tot tot long twos int word offset macro hacker delight defin unsign unsign long twos twos twos long long twos twos long long twos twos twos twos twos long twos twos twos twos twos twos twos twos long long twos twos long long twos twos twos twos twos long twos twos twos twos twos twos twos long tot pop handl trail word binari search manner deriv loop abov set specif element origin method hacker delight simpl loop add element tot tot pop long twos twos long long twos long long twos long twos twos twos twos twos twos twos tot pop long long long twos long twos twos twos twos twos long tot pop tot pop tot pop pop twos pop tot return tot 