public void throttl delta long byte delta int target byte fun target throughput target byte throttl disabl return target byte target byte restart throttl base target avoid bogus answer base compar rate throttl desir rate rate higher doesn matter rate result long sleep bring averag logger debug target throughput byte target byte target byte target byte byte delay byte delta time delay system current time milli return time pass sinc delay long sinc system current time milli time delay excess byte period long excess byte byte delta sinc target byte time delay recap deficit long time delay excess byte math max target byte time delay logger trace enabl logger trace string format actual throughput byte throttl byte delta sinc time delay tri thread sleep time delay catch interrupt throw assert error byte delay byte delta time delay system current time milli 