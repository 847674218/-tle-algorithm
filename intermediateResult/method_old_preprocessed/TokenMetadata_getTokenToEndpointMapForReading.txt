public map token inet address token endpoint map read lock read lock lock tri map token inet address map hash map token inet address token endpoint map size map put token endpoint map return map final lock read lock unlock 