privat static string uncompress byte buffer queri compress compress throw invalid request string queri string null decompress queri string tri switch compress case data output buffer decompress data output buffer byte buffer byte buffer byte inflat decompressor inflat int len read true decompressor input len read queri remain queri remain queri buffer len read decompressor set input buffer len read int len write len write decompressor inflat buffer decompress write buffer len write decompressor finish break decompressor queri string string decompress data decompress size break case tri queri string byte buffer util string queri catch charact code throw invalid request messag break catch data format throw invalid request error deflat queri string catch unsupport encod throw invalid request unknown queri string encod return queri string 