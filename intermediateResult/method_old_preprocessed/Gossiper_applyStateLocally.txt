void appli state local map inet address endpoint state state map entri inet address endpoint state entri state map entri set inet address entri key equal util broadcast address continu remov endpoint key logger trace enabl logger trace ignor gossip becaus quarantin continu endpoint state local state ptr endpoint state map endpoint state remot state entri valu state doe exist add doe add remot generat greater generat tie attempt break heartbeat version local state ptr null int local generat local state ptr heart beat state generat int remot generat remot state heart beat state generat logger trace enabl logger trace local generat local generat remot generat remot generat remot generat local generat logger trace enabl logger trace updat heartbeat state generat remot generat local generat major state chang handl updat insert remot state direct handl major state chang remot state els remot generat local generat generat chang appli state find maximum state int local max version max endpoint state version local state ptr int remot max version max endpoint state version remot state remot max version local max version appli state notifi sinc major chang appli state local state ptr remot state els logger trace enabl logger trace ignor remot version remot max version local max version local state ptr aliv dead state local state ptr cours dead mark aliv local state ptr els logger trace enabl logger trace ignor remot generat remot generat local generat els node report case time aliv failur detector instanc report handl major state chang remot state 