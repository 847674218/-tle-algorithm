protect abstract type append compar int byte buffer string builder return type 