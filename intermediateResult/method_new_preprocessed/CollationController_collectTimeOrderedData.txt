privat column famili collect time order data logger trace collect time order data column famili column famili creat cfs metadata factori filter filter revers list disk atom iter iter array list disk atom iter trace trace acquir sstabl refer column famili store view fragment view cfs mark referenc filter key temporari object memtabl sstabl sourc accomod factori requir add atom happen sort order add merg final collect sort set column merg uniform sort exist column famili temp column famili creat cfs metadata array sort column factori filter filter revers tri trace trace merg memtabl content memtabl memtabl view memtabl disk atom iter iter filter memtabl column iter memtabl iter null iter add iter temp delet iter column famili iter temp add atom iter add temp heap alloc instanc temp clear avoid chang filter column origin filter reduc filter remov column irrelev queri filter filter queri filter filter filter tree set byte buffer filter column tree set byte buffer filter column queri filter reduc filter queri filter filter key filter path filter updat column filter column add tabl disk collect sort view sstabl tabl max timestamp compar read sort sstabl long row tombston long tabl reader sstabl view sstabl alreadi row tombston timestamp greater updat sstabl sinc rest sstabl older sstabl max timestamp row tombston break long current max sstabl max timestamp reduc filter reduc filter current max queri filter reduc filter filter column empti break disk atom iter iter reduc filter tabl column iter sstabl iter add iter iter column famili null column famili iter column famili mark delet track row level tombston encount row tombston delet info top level delet mark delet temp delet sstabl iter trace trace merg data sstabl sstabl descriptor generat iter temp add atom iter add temp heap alloc instanc temp clear distinguish data row rebuild effici data cach empti don rebuild slower iter empti return null final collat collat boilerpl requir provid closeabl iter final column famili closeabl iter disk atom collat simpl abstract column iter final iter column iter iter protect disk atom comput return iter iter data public column famili column famili return public decor key key return filter key column famili return clone shallow trace trace collat result filter collat disk atom return collect singleton list collat befor hoist request data sstabl sstabl iter cfs minimum compact threshold cfs compact disabl cfs compact strategi instanceof size tier compact strategi trace trace defrag request data row mutat row mutat cfs tabl row filter key return clone skip commitlog index updat fine sinc fragment exist data tabl open tabl appli fals fals caller respons final remov delet import cach row work correct return return final disk atom iter iter iter file util close quiet iter tabl reader releas refer view sstabl 