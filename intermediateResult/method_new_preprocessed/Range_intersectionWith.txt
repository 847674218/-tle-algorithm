public set rang intersect rang return rang set return rang set boolean thiswrap wrap left boolean thatwrap wrap left thiswrap thatwrap wrap straightforward case left compar left compar return collect empti set return rang set rang object util max left left object util min partition thiswrap thatwrap start alreadi rule assert left equal left wrap rang alway intersect sinc alreadi determin case mirror imag case endpoint lie segment onli start endpoint lie segment case left segement handl swap return left compar left intersect wrap intersect wrap thiswrap thatwrap return intersect wrap assert thiswrap thatwrap return intersect wrap 