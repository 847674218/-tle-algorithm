public multimap string string calcul reloc multimap string string endpoint map multimap string string reloc hash multimap creat set string endpoint hash set string endpoint map key set map string integ endpoint num token hash map string integ endpoint size map string iter string iter map hash map string iter string endpoint size creat map endpoint token iter endpoint number token string endpoint endpoint tri endpoint num token put endpoint proxi token endpoint size catch unknown host throw runtim iter map put endpoint endpoint map endpoint iter int ep complet endpoint size set string endpoint complet hash set string outer true endpoint remov endpoint complet string endpoint endpoint boolean choic fals iter map endpoint endpoint complet add endpoint continu string token iter map endpoint list string set array list string endpoint set remov endpoint collect shuffl set rand string choic set reloc choic size endpoint num token choic reloc put choic token choic true break choic reloc put endpoint token exhaust token iter endpoint complet size ep complet break outer return reloc 