privat count latch stream rang final map string multimap rang token inet address rang stream tabl build list rang stream host tabl final map string map inet address list rang token session stream tabl hash map string map inet address list rang token number stream session start built build session stream tabl int session count map entri string multimap rang token inet address entri rang stream tabl entri set multimap rang token inet address rang endpoint entri valu rang endpoint empti continu final string tabl entri key map inet address list rang token rang endpoint hash map inet address list rang token final map entri rang token inet address point entri rang endpoint entri final rang token rang point entri key final inet address endpoint point entri valu list rang token cur rang rang endpoint endpoint cur rang null cur rang link list rang token rang endpoint put endpoint cur rang cur rang add rang session count rang endpoint size session stream tabl put tabl rang endpoint final count latch latch count latch session count map entri string map inet address list rang token entri session stream tabl entri set final string tabl entri key final map inet address list rang token rang endpoint entri valu final map entri inet address list rang token rang entri rang endpoint entri set final list rang token rang rang entri valu final inet address endpoint rang entri key call transfer rang flush potenti lot wast stream transfer rang endpoint tabl open tabl rang count stream callback latch endpoint oper type return latch 