public predict result predict int int int float time sinc write int number version stale float percentil latenc throw illeg argument throw illeg argument posit throw illeg argument throw illeg argument posit percentil latenc percentil latenc throw illeg argument percentil latenc inclus number version stale throw illeg argument number version stale posit log latenc throw illeg state latenc log enabl map replica number latenc map integ list long latenc order latenc map integ list long latenc order latenc map integ list long latenc order latenc map integ list long latenc order latenc latenc empti latenc empti throw illeg state write latenc record run local insert latenc empti latenc empti throw illeg state read latenc record run local read storag simul read write latenc array list long read latenc array list long array list long write latenc array list long long consist read storag latenc replica mont carlo trial arr hold ith replica latenc array list long trial latenc array list long array list long trial latenc array list long array list long replica write latenc array list long array list long replica read latenc array list long run repeat trial observ stale int number trial predict simul send write replica send read replica record latenc random sampl gather latenc int replica replica replica long trial latenc random latenc sampl latenc replica long trial latenc random latenc sampl latenc replica trial latenc add trial latenc replica write latenc add trial latenc trial latenc read onli replica pick random read respons latenc int replica replica replica long trial latenc random latenc sampl latenc replica long trial latenc random latenc sampl latenc replica trial latenc add trial latenc replica read latenc add trial latenc trial latenc write latenc trial time wth replica respond collect sort replica write latenc long write latenc replica write latenc write latenc add write latenc array list long sort replica read latenc array list long replica read latenc collect sort sort replica read latenc read latenc trial time rth replica respond read latenc add sort replica read latenc read respons reorder messag coordin pick read messag replica write consist read request time write latenc time sinc write int respons number respons number respons number int replica number replica read latenc index sort replica read latenc respons number write latenc time sinc write trial latenc replica number trial latenc replica number consist read break tombston replica case duplic read latenc replica read latenc set replica number clear storag trial trial latenc clear trial latenc clear replica read latenc clear replica write latenc clear float version consist probabl float consist read number trial predict calcul multi version stale exponenti stale probabl number version float consist probabl float math pow doubl version consist probabl number version stale float averag write latenc list averag write latenc float averag read latenc list averag read latenc long percentil write latenc percentil write latenc percentil latenc long percentil read latenc percentil read latenc percentil latenc return predict result time sinc write number version stale consist probabl averag read latenc averag write latenc percentil read latenc percentil latenc percentil write latenc percentil latenc 