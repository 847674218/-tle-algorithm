public long timeout time unit throw timeout lock lock tri boolean val true tri timeout time unit convert timeout long overal timeout timeout system current time milli start time val overal timeout condit await overal timeout time unit catch interrupt throw assert error val throw timeout oper time final lock unlock return result 