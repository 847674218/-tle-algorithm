protect void stream throw byte buffer header buffer messag servic instanc construct stream header header fals messag servic instanc version write header compress compat messag output write byte buffer util array header buffer header file null return tri skip kernel page cach possibl random access reader file random access reader open file header file filenam true set data compress stream compressedoutput output stream output stream metric activ stream outbound tri long total byte transfer stream requir section file pair long long section header file section seek section file seek section left length section stream long length section section left track write progress long byte transfer byte transfer length long write write file length byte transfer byte transfer write total byte transfer write store stream progress header file progress write current section send compressedoutput flush logger debug enabl logger debug byte transfer byte transfer header file size stream metric total outgo byte total byte transfer metric outgo byte total byte transfer receiv repli confirm receiv repli final stream metric activ stream outbound dec matter happen close file file util close quiet file 