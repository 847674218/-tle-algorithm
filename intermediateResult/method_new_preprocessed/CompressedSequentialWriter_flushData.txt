overrid protect void flush data seek chunk start int compress length tri compress data buffer compress length compressor compress buffer valid buffer byte compress catch throw runtim compress shouldn happen origin size valid buffer byte compress size compress length updat checksum checksum updat buffer valid buffer byte tri write offset newli written chunk index file metadata writer write long chunk offset chunk count assert compress length compress buffer length write data write compress buffer compress length write correspond checksum write int int checksum valu catch throw write error path reset checksum object blank state checksum reset chunk written current length checksum int chunk offset compress length 