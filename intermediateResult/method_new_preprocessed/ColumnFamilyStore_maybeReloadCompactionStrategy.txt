privat void mayb reload compact strategi check reload metadata compact strategi class equal compact strategi class metadata compact strategi option equal compact strategi option return avoid lock compact manag instanc compact lock lock tri compact strategi shutdown compact strategi metadata creat compact strategi instanc final compact manag instanc compact lock unlock 