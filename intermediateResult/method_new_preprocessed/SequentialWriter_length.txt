public long length tri return math max math max current length buffer offset valid buffer byte catch throw read error path 