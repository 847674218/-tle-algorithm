licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra servic import java net inet address import java util collect import java util concurr time unit import googl common base predic import googl common collect iter import org apach cassandra config databas descriptor import org apach cassandra consist level import org apach cassandra tabl import org apach cassandra write type import org apach cassandra import org apach cassandra gms failur detector import org apach cassandra net async callback import org apach cassandra net messag import org apach cassandra util simpl condit public abstract class abstract write respons handler implement async callback privat static predic inet address aliv predic inet address public boolean appli inet address endpoint return failur detector instanc aliv endpoint privat final simpl condit condit simpl condit protect final tabl tabl protect final long start time protect final collect inet address natur endpoint protect final consist level consist level protect final runnabl callback protect final collect inet address pend endpoint privat final write type write type param pend endpoint param callback callback call write success protect abstract write respons handler tabl tabl collect inet address natur endpoint collect inet address pend endpoint consist level consist level runnabl callback write type write type tabl tabl pend endpoint pend endpoint start time system current time milli consist level consist level natur endpoint natur endpoint callback callback write type write type public void throw write timeout long timeout databas descriptor write rpc timeout system current time milli start time boolean success tri success condit await timeout time unit catch interrupt throw assert error success throw write timeout write type consist level ack count consist level block tabl pend endpoint size protect abstract int ack count null messag respons local write public abstract void respons messag msg public void assur suffici live node throw unavail consist level assur suffici live node tabl iter filter iter concat natur endpoint pend endpoint aliv protect void signal condit signal callback null callback run 