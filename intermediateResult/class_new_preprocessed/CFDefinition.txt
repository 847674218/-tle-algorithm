licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra cql import java nio byte buffer import java util import googl common base joiner import googl common collect abstract iter import org apach cassandra config meta data import org apach cassandra config column definit import org apach cassandra marshal abstract type import org apach cassandra marshal column collect type import org apach cassandra marshal composit type import org apach cassandra marshal type import org apach cassandra invalid request import org apach cassandra util byte buffer util hold metadata preprocess queri public class definit implement iter definit public static final abstract type definit type type instanc privat static final string key privat static final string column privat static final string valu public final meta data cfm link hash map becaus order doe matter order composit type public final link hash map column identifi key link hash map column identifi public final link hash map column identifi column link hash map column identifi public final valu metadata lexicograph order wildcard expans determinist order public final map column identifi metadata tree map column identifi public final boolean composit public final boolean composit key note compact componet compar correspond column defin exact equival option creat tabl static composit type compact fals declar public final boolean compact public final boolean collect public definit meta data cfm cfm cfm cfm key valid instanceof composit type composit key true composit type key composit composit type cfm key valid assert key composit type size int key composit type size column identifi key cfm key put cfm cfm kind key composit type els composit key fals column identifi key cfm key put cfm cfm kind cfm key valid cfm compar instanceof composit type composit true composit type composit composit type cfm compar spars composit compact type composit column collect type alia composit type type type note perfect someon upgrad thrift renam column alia consid spars stuck simpl workaround user renam alias time place int composit type size abstract type type composit type type instanceof column collect type cfm column alias size type instanceof type spars composit compact fals valu null assert cfm valu alia null check collect type type instanceof column collect type collect true els collect fals int column identifi column cfm column put cfm cfm kind composit type map entri byte buffer column definit def cfm column metadata entri set column identifi column identifi def key cfm column definit compar def valu metadata put cfm cfm kind def valu valid els dens composit compact true collect fals int composit type size column identifi column cfm column put cfm cfm kind composit type valu creat valu cfm els composit fals collect fals cfm column alias empti cfm column metadata empti dynam compact true column identifi column cfm cfm cfm kind cfm compar column put valu creat valu cfm els static compact fals valu null assert cfm valu alia null assert cfm column alias null cfm column alias empti map entri byte buffer column definit def cfm column metadata entri set column identifi column identifi def key cfm column definit compar def valu metadata put cfm cfm kind def valu valid assert valu null metadata empti privat static column identifi key meta data cfm int list byte buffer defin cfm key alias compat sake composit key default alia key key return defin null defin size cfm key alias null column identifi fals column identifi cfm key alias definit type privat static column identifi column meta data cfm int list byte buffer defin cfm column alias return defin null defin size cfm column alias null column identifi fals column identifi cfm column alias definit type privat static column identifi valu meta data cfm return cfm valu alia null column identifi fals column identifi cfm valu alia definit type public column collect type collect type collect return null composit type composit composit type cfm compar return column collect type composit type composit type size privat static creat valu meta data cfm column identifi alia valu cfm distinguish valu alia becaus thrift explicit defin valu creat column famili statement return alia key equal byte buffer util null cfm cfm alia kind cfm default valid public column identifi definit kdef key kdef null return kdef valu null equal valu return valu definit def column def null return def return metadata public iter iter return abstract iter privat final iter key iter key valu iter privat final iter column iter column valu iter privat boolean valu privat final iter metadata iter metadata valu iter protect comput key iter return key iter column iter return column iter valu null valu valu true return valu metadata iter return metadata iter return data public column builder key builder return composit key composit type builder composit type cfm key valid composit builder cfm key valid public column builder column builder return composit composit type builder composit type cfm compar composit builder cfm compar public static class extend column specif public static enum kind privat string string column identifi kind kind abstract type type kind type privat string string column identifi kind kind int posit abstract type type super type kind kind posit posit public final kind kind public final int posit onli sens overrid public string string string builder string builder append joiner join key valu column empti append append joiner join column valu append valu null append valu metadata empti append append joiner join metadata valu append return string privat static class composit builder implement column builder privat final abstract type type privat byte buffer column privat composit builder abstract type type type type public composit builder add byte buffer column null throw illeg state column alreadi construct column return public composit builder add term relat type list byte buffer variabl throw invalid request column null throw illeg state column alreadi construct don support relat type distinct column byte buffer type variabl return public int compon count return column null public int remain count return column null public byte buffer build return column null byte buffer util column public byte buffer build rang return build public composit builder copi composit builder builder composit builder type builder column column return builder 