licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra util ob varieti high effici bit twiddl routin lucen intern final class bit util return number bit set long public static int pop long hacker delight bit pop function http www hackersdelight org dcode code pop array int pop unsign return bit java version function abov return int return number set bit array long public static long pop array long int word offset int num word robert harley david seal bit count algorithm document revis hacker delight http www hackersdelight org revis pdf http www hackersdelight org dcode code pop array function adapt java extend bit word onli access wider regist java function transform comput popcount function bitset someth sed int word offset num word long tot tot long twos int word offset macro hacker delight defin unsign unsign long twos twos twos long long twos twos long long twos twos twos twos twos long twos twos twos twos twos twos twos twos long long twos twos long long twos twos twos twos twos long twos twos twos twos twos twos twos long tot pop handl trail word binari search manner deriv loop abov set specif element origin method hacker delight simpl loop add element tot tot pop long twos twos long long twos long long twos long twos twos twos twos twos twos twos tot pop long long long twos long twos twos twos twos twos long tot pop tot pop tot pop pop twos pop tot return tot return popcount cardin set intersect array modifi public static long pop intersect long long int word offset int num word generat pop array sed int word offset num word long tot tot long twos int word offset long twos twos twos long long twos twos long long twos twos twos twos twos long twos twos twos twos twos twos twos twos long long twos twos long long twos twos twos twos twos long twos twos twos twos twos twos twos long tot pop long twos twos long long twos long long twos long twos twos twos twos twos twos twos tot pop long long long twos long twos twos twos twos twos long tot pop tot pop tot pop pop twos pop tot return tot return popcount cardin union set array modifi public static long pop union long long int word offset int num word generat pop array sed int word offset num word long tot tot long twos int word offset macro hacker delight defin unsign unsign long twos twos twos long long twos twos long long twos twos twos twos twos long twos twos twos twos twos twos twos twos long long twos twos long long twos twos twos twos twos long twos twos twos twos twos twos twos long tot pop long twos twos long long twos long long twos long twos twos twos twos twos twos twos tot pop long long long twos long twos twos twos twos twos long tot pop tot pop tot pop pop twos pop tot return tot return popcount cardin array modifi public static long pop andnot long long int word offset int num word generat pop array sed int word offset num word long tot tot long twos int word offset macro hacker delight defin unsign unsign long twos twos twos long long twos twos long long twos twos twos twos twos long twos twos twos twos twos twos twos twos long long twos twos long long twos twos twos twos twos long twos twos twos twos twos twos twos long tot pop long twos twos long long twos long long twos long twos twos twos twos twos twos twos tot pop long long long twos long twos twos twos twos twos long tot pop tot pop tot pop pop twos pop tot return tot public static long pop xor long long int word offset int num word int word offset num word long tot tot long twos int word offset macro hacker delight defin unsign unsign long twos twos twos long long twos twos long long twos twos twos twos twos long twos twos twos twos twos twos twos twos long long twos twos long long twos twos twos twos twos long twos twos twos twos twos twos twos long tot pop long twos twos long long twos long long twos long twos twos twos twos twos twos twos tot pop long long long twos long twos twos twos twos twos long tot pop tot pop tot pop pop twos pop tot return tot python code generat ntz tabl def ntz val val return val val return print join str ntz rang tabl number trail byte public static final byte ntz tabl return number trail bit long valu public static int ntz long val full binari search determin byte slower linear search set bit becaus implement set bit shift bit increas probabl byte rhs implement doe singl binari search top level onli bit shift int long remain friend bit architectur addit case byte check becaus common dens bit array int int val int byte xff byte return ntz tabl byte byte xff byte return ntz tabl byte byte xff byte return ntz tabl byte mask byte byte bit word check byte return ntz tabl els grab upper bit int upper int val byte upper xff byte return ntz tabl byte byte upper xff byte return ntz tabl byte byte upper xff byte return ntz tabl byte mask byte byte bit word check byte return ntz tabl upper return number trail bit int valu public static int ntz int val implement doe singl binari search top level onli addit case byte check becaus common dens bit array int byte val xff byte return ntz tabl byte byte val xff byte return ntz tabl byte byte val xff byte return ntz tabl byte mask byte byte check byte return ntz tabl val return base index set bit onli work altern implement ntz public static int ntz long int int int int onli bit shift necessari return ntz tabl xff return base index set bit altern implement ntz public static int ntz long anoth implement hacker delight extend bit convert java mani bit ntz algorithm http www hackersdelight org dcode ntz int step long int int int int return return true power public static boolean power int return return true power public static boolean power long return return highest power current valu alreadi power public static int highest power int return return highest power current valu alreadi power public static long highest power long return 