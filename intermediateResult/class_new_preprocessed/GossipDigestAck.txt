licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra gms import java data input import java data output import java import java net inet address import java util hash map import java util list import java util map import org apach cassandra type size import org apach cassandra version serial import org apach cassandra net compact endpoint serial helper import org apach cassandra net messag servic ack result receipt gossip digest syn messag endpoint stage messag gossip protocol public class gossip digest ack public static final version serial gossip digest ack serial gossip digest ack serial final list gossip digest digest list final map inet address endpoint state state map gossip digest ack list gossip digest digest list map inet address endpoint state state map digest list digest list state map state map list gossip digest gossip digest list return digest list map inet address endpoint state endpoint state map return state map class gossip digest ack serial implement version serial gossip digest ack public void serial gossip digest ack digest ack messag data output dos int version throw gossip digest serial helper serial digest ack messag digest list dos version version messag servic dos write boolean true compat dos write int digest ack messag state map size map entri inet address endpoint state entri digest ack messag state map entri set inet address entri key compact endpoint serial helper serial dos endpoint state serial serial entri valu dos version public gossip digest ack deseri data input dis int version throw list gossip digest digest list gossip digest serial helper deseri dis version version messag servic dis read boolean compat int size dis read int map inet address endpoint state state map hash map inet address endpoint state size int size inet address compact endpoint serial helper deseri dis endpoint state state endpoint state serial deseri dis version state map put state return gossip digest ack digest list state map public long serial size gossip digest ack ack int version int size gossip digest serial helper serial size ack digest list version version messag servic size type size sizeof true size type size sizeof ack state map size map entri inet address endpoint state entri ack state map entri set size compact endpoint serial helper serial size entri key endpoint state serial serial size entri valu version return size 