packag org apach cassandra tool licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens import java closeabl import java import java print stream import java util hash map import java util map import javax manag bean server connect import javax manag remot connector import javax manag remot connector factori import javax manag remot servic import org apach common cli command line import org apach common cli command line parser import org apach common cli option import org apach common cli option import org apach common cli pars import org apach common cli posix parser public abstract class abstract jmx client implement closeabl privat static final option option option protect static final int protect static final string localhost protect final string host protect final int port protect connect jmx conn protect print stream system static option add option host true hostnam address default localhost option add option port true port number default option add option fals print inform public abstract jmx client string host integ port string usernam string password throw host host null host port port null port jmx conn connect host port usernam password public void close throw jmx conn close public void writeln throwabl err writeln err messag public void writeln string msg println msg public void write string msg print msg public void writeln string format object arg write format arg public void write string format object arg printf format arg public void set output print stream public static command line process argument string arg throw pars command line parser parser posix parser return parser pars option arg public static void add cmd option string short opt string long opt boolean arg string descript option add option short opt long opt arg descript public static void print string synopsi string header system printf usag synopsi system print header system println option object opt option option string short opt string format option opt opt string long opt option opt long opt string descript option opt descript system printf short opt long opt descript class connect privat static final string servic jmx rmi jndi rmi jmxrmi privat final string host usernam password privat final int port privat connector jmxc privat bean server connect mbean server conn connect string host int port throw host port null null connect string host int port string usernam string password throw host host port port usernam usernam password password connect privat void connect throw servic jmx url servic string format host port map string object env hash map string object usernam null env put connector string usernam password jmxc connector factori connect jmx url env mbean server conn jmxc bean server connect public void close throw jmxc close public bean server connect mbean server conn return mbean server conn 