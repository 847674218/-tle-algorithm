licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra util import java util concurr atom atom long public class latenc tracker privat final atom long count atom long privat final atom long total latenc atom long privat long latenc privat long count privat final estim histogram total histogram estim histogram privat final estim histogram histogram estim histogram nanosecond public void add nano long nano convert microsecond millionth add micro nano public void add micro long micro count increment total latenc add micro total histogram add micro histogram add micro public long count return count return microsecond public long total latenc micro return total latenc return microsecond public doubl latenc micro long op count long total latenc tri return doubl latenc op count final latenc count op public long total latenc histogram micro return total histogram bucket fals public long latenc histogram micro return histogram bucket true 