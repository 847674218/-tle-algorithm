licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra thrift import java net socket address import java util map import java util concurr concurr hash map encapsul current client state session reli thrift server socket execut request set current socket current session job anywher public class thrift session manag public final static thrift session manag instanc thrift session manag privat final thread local socket address remot socket thread local socket address privat final map socket address thrift client state activ socket session concurr hash map socket address thrift client state param socket address current thread work request notic public void set current socket socket address socket remot socket set socket return current session socket thread public thrift client state current session socket address socket remot socket assert socket null thrift client state state activ socket session socket state null state thrift client state activ socket session put socket state return state connect associ param socket perman finish public void connect complet socket address socket assert socket null activ socket session remov socket 