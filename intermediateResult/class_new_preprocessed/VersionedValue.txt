licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra gms import java import java net inet address import java util collect import java util import googl common collect iter import static googl common base charset import org apach cassandra type size import org apach cassandra dht partition import org apach cassandra dht token import org apach cassandra version serial import org apach cassandra net messag servic import org apach cassandra util util import org apach common lang string util abstract repres state associ node applic avail rest node cluster whenev piec state dissemin rest cluster wrap state instanc applic state add gossip dissemin load inform node follow applic state load state applic state string represent load gossip instanc add applic state load state public class version valu implement compar version valu public static final version serial version valu serial version valu serial char present ani token public final static char public final static string string char valu applic state public final static string public final static string public final static string public final static string public final static string public final static string public final static string remov public final static string remov public final static string hibern valu applic state public final static string public final int version public final string valu privat version valu string valu int version assert valu null valu valu version version privat version valu string valu valu version generat version public int compar version valu valu return version valu version overrid public string string return valu valu version privat static string version string string arg return string util join arg version valu public static class version valu factori final partition partition public version valu factori partition partition partition partition public version valu bootstrap collect token token return version valu version string version valu token string token public version valu normal collect token token return version valu version string version valu token string token privat string token string collect token token return partition token factori string iter token public version valu load doubl load return version valu string valu load public version valu schema version return version valu version string public version valu leav collect token token return version valu version string version valu token string token public version valu left collect token token long expir time return version valu version string version valu long string expir time token string token public version valu move token token return version valu version valu version valu partition token factori string token public version valu reloc collect token src token return version valu version string version valu string util join src token version valu public version valu host host return version valu host string public version valu token collect token token byte array output stream bos byte array output stream data output stream dos data output stream bos tri token serial serial partition token dos catch throw runtim return version valu string bos byte array public version valu remov nonloc host return version valu version string version valu host string public version valu remov nonloc host long expir time return version valu version string version valu host string long string expir time public version valu remov coordin host return version valu version string version valu host string public version valu hibern boolean valu return version valu version valu version valu valu public version valu datacent string return version valu public version valu rack string rack return version valu rack public version valu rpcaddress inet address endpoint return version valu endpoint host address public version valu releas version return version valu util releas version string public version valu network version return version valu string valu messag servic current version public version valu intern string privat return version valu privat public version valu sever doubl valu return version valu string valu valu privat static class version valu serial implement version serial version valu public void serial version valu valu data output dos int version throw dos write valu valu version dos write int valu version privat string valu version valu valu int version string valu valu valu version messag servic string piec valu valu split string type piec type equal type equal assert piec length valu version string piec piec type equal assert piec length compon left adopt start cassandra previous version type token format valu version messag servic version string piec piec version string piec piec piec type equal type equal type equal throw runtim string format unabl serial node older version valu class type return valu public version valu deseri data input dis int version throw string valu dis read int val version dis read int return version valu valu val version public long serial size version valu valu int version return type size sizeof valu valu version type size sizeof valu version 