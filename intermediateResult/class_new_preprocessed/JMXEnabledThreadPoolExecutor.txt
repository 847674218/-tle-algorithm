licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra concurr import java lang manag manag factori import java util list import java util concurr block queue import java util concurr link block queue import java util concurr time unit import javax manag bean server import javax manag object import org apach cassandra metric thread pool metric wrapper class schedul thread pool executor provid implement execut thread pool executor class log ani unexpect runtim public class enabl thread pool executor extend debugg thread pool executor implement enabl thread pool executor bean privat final string mbean privat final thread pool metric metric public enabl thread pool executor string thread pool integ time unit link block queue runnabl thread factori thread pool intern public enabl thread pool executor string thread pool string jmx path integ time unit link block queue runnabl thread factori thread pool jmx path public enabl thread pool executor string thread pool int prioriti integ time unit link block queue runnabl thread factori thread pool prioriti intern public enabl thread pool executor int core pool size long aliv time time unit unit block queue runnabl work queue thread factori thread factori string jmx path core pool size core pool size aliv time unit work queue thread factori jmx path public enabl thread pool executor int core pool size int max pool size long aliv time time unit unit block queue runnabl work queue thread factori thread factori string jmx path super core pool size max pool size aliv time unit work queue thread factori super prestart core thread metric thread pool metric jmx path thread factori bean server mbs manag factori platform bean server mbean org apach cassandra jmx path type thread factori tri mbs regist bean object mbean catch throw runtim public enabl thread pool executor stage stage stage jmx stage jmx type privat void unregist bean tri manag factori platform bean server unregist bean object mbean catch throw runtim releas metric metric releas overrid public synchron void shutdown synchron becaus access super main lock prefer threadsaf shutdown unregist bean super shutdown overrid public synchron list runnabl shutdown synchron becaus access super main lock prefer threadsaf shutdown unregist bean return super shutdown number complet task public long complet task return complet task count number task wait execut public long pend task return task count complet task count public int total block task return int metric total block count public int current block task return int metric current block count public int core thread return core pool size public void set core thread int number set core pool size number public int maximum thread return maximum pool size public void set maximum thread int number set maximum pool size number overrid protect void initi reject runnabl task metric total block metric current block overrid protect void final accept runnabl task metric current block dec overrid protect void final reject runnabl task metric current block dec 