licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra util vint import java import java output stream import org apach cassandra util abstract data output borrow idea https develop googl protocol buffer doc encod varint public class encod data output stream extend abstract data output privat output stream public encod data output stream output stream public void write int throw write public void write byte throw write public void write byte int int len throw write len integ type encod int singl method vint encod public void write int int throw vint encod public void write long long throw vint encod public void write short int throw vint encod privat void vint encod long throw write byte byte return int len complement len long tmp tmp tmp tmp len write byte byte len len len len len int idx len idx idx int shiftbit idx long mask shiftbit write byte byte mask shiftbit 