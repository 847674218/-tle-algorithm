licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra servic import java util import org apach cassandra trace trace import org apach cassandra util util repres state relat queri public class queri state privat final client state client state privat volatil long clock privat volatil prepar trace session public queri state client state client state client state client state public client state client state return client state clock guarante updat queri state order sequenc multipl updat happen millisecond public long timestamp long current system current time milli clock clock current clock current return clock public boolean trace queri prepar trace session null return true doubl trace probabl storag servic instanc trace probabl return trace probabl util thread local random doubl trace probabl public void prepar trace session session prepar trace session session public void creat trace session prepar trace session null trace instanc session els session prepar trace session prepar trace session null trace instanc session session 