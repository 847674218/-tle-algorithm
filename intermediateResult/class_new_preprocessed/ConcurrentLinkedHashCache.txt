licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra cach import java util set import org github jamm memori meter import googlecod concurrentlinkedhashmap concurr link hash map import googlecod concurrentlinkedhashmap entri weigher wrapper implement cach interfac librari class final public class concurr link hash cach implement cach public static final int privat final concurr link hash map map privat static final memori meter meter memori meter omit share buffer overhead privat concurr link hash cach concurr link hash map map map map initi cach initi capac weight capac public static concurr link hash cach creat long weight capac entri weigher entri weiger concurr link hash map map concurr link hash map builder weigher entri weiger maximum weight capac weight capac concurr level build return concurr link hash cach map public static concurr link hash cach creat long weight capac return creat weight capac entri weigher public int weight key valu long size meter measur deep key meter measur deep valu assert size integ serial size integ return int size public long capac return map capac public void set capac long capac map set capac capac public boolean empti return map empti public int size return map size public long weight size return map weight size public void clear map clear public key return map key public void put key valu map put key valu public boolean put absent key valu return map put absent key valu null public boolean replac key valu return map replac key valu public void remov key map remov key public set key set return map key set public set hot key set int return map descend key set limit public boolean key key return map key key public boolean put copi return fals 