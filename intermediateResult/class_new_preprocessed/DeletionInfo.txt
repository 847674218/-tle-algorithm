licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra import java data input import java data output import java import java lang reflect constructor import java nio byte buffer import java util import googl common base object import googl common collect iter import org apach cassandra marshal abstract type import org apach cassandra serial import org apach cassandra tabl serial import org apach cassandra version serial import org apach cassandra sstabl descriptor import org apach cassandra net messag servic import org apach cassandra util byte buffer util import org apach cassandra util interv tree public class delet info privat static final serial serial serial don repres full interv key interv don support minimum token bound top level delet info separat slight optim case full row delet common privat final delet time top level privat final interv tree byte buffer delet time rang tombston rang public static final delet info delet info delet time interv tree byte buffer delet time rang tombston empti tree public delet info long mark delet int local delet time pre node return delet default delet time mark delet local delet time integ integ local delet time interv tree byte buffer delet time rang tombston empti tree public delet info byte buffer start byte buffer compar byte buffer compar long mark delet int local delet time rang tombston start delet time mark delet local delet time compar public delet info rang tombston rang tombston compar byte buffer compar delet time interv tree build collect rang tombston singleton list rang tombston compar assert compar null privat delet info delet time top level interv tree byte buffer delet time rang tombston rang top level top level rang rang public static serial serial return serial return delet info live delet column public boolean live return top level mark delet long top level local delet time integ rang empti return column delet delet info param column column check return true column delet fals otherwis public boolean delet column column return delet column column live chang public boolean delet byte buffer long timestamp live return fals timestamp top level mark delet return true delet time rang search timestamp mark delet return true return fals return delet info correspond purg everi tombston older code gcbefor param befor timestamp befor tombston purg return delet info purg info remov return delet info tombston remain public delet info purg int befor rang empti return top level local delet time befor els rebuild interv tree onli expir rang tombston list rang tombston expir array list rang tombston rang tombston rang rang rang data local delet time befor expir add rang interv tree byte buffer delet time rang tombston rang expir size rang interv count rang interv tree build expir rang compar return top level local delet time befor delet info delet time rang delet info top level rang return delet info provid code info public delet info add delet info info rang empti return top level mark delet info top level mark delet info info rang empti delet info top level info rang els info rang empti return top level mark delet info top level mark delet delet info info top level rang els merg rang set rang tombston merg hash set rang tombston iter add merg iter concat rang info rang return delet info top level mark delet info top level mark delet info top level top level interv tree build merg rang compar public long min timestamp long min timestamp top level mark delet rang tombston rang min timestamp math min min timestamp data mark delet return min timestamp maximum timestamp mention delet info public long max timestamp long max timestamp top level mark delet rang tombston rang max timestamp math max max timestamp data mark delet return max timestamp public delet time top level delet return top level public iter rang tombston rang iter return rang iter public int data size int size type size sizeof top level mark delet rang tombston rang size min remain max remain size type size sizeof data mark delet return size overrid public string string rang empti return string format top level els return string format rang top level rang string privat string rang string assert rang empti string builder string builder abstract type abstract type rang compar assert null rang tombston rang append append string min append append string max append append data append return string overrid public boolean equal object instanceof delet info return fals delet info delet info return top level equal top level rang equal rang overrid public final int hash code return object hash code top level rang public static class serial implement version serial delet info tabl serial delet info privat final static serial byte buffer serial serial byte buffer public void serial byte buffer data output dos throw byte buffer util write short length dos public byte buffer deseri data input dis throw return byte buffer util read short length dis public long serial size byte buffer type size type size int size remain return type size sizeof short size size privat final static interv tree serial byte buffer delet time rang tombston serial static tri constructor rang tombston constructor rang tombston class constructor byte buffer class byte buffer class delet time class serial interv tree serial serial delet time serial constructor catch method throw runtim public void serial delet info info data output int version throw delet time serial serial info top level pre version don rang tombston user upgrad node befor didn fail earli propag bad info version messag servic info rang empti throw runtim send rang tombston pre node upgrad node cassandra befor rang tombston otherwis els serial serial info rang version public void serial tabl delet info info data output throw delet time serial serial info top level rang tombston intern depend column famili serial serial deseri data input int compar byte buffer method public delet info deseri data input int version throw throw unsupport oper public delet info deseri data input int version compar byte buffer compar throw assert compar null delet time top level delet time serial deseri version messag servic return delet info top level interv tree byte buffer delet time rang tombston empti tree interv tree byte buffer delet time rang tombston rang serial deseri version compar return delet info top level rang public delet info deseri tabl data input descriptor version version throw delet time top level delet time serial deseri return delet info top level interv tree byte buffer delet time rang tombston empti tree public long serial size delet info info type size type size int version long size delet time serial serial size info top level type size version messag servic return size return size serial serial size info rang type size version public long serial size delet info info int version return serial size info type size version 