licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra config import java util import googl common collect immut map import org apach common lang object util import org apach common lang string util import org apach cassandra auth auth import org apach cassandra cql queri processor import org apach cassandra cql untyp result set import org apach cassandra import org apach cassandra filter queri path import org apach cassandra configur import org apach cassandra locat import org apach cassandra servic storag servic import org apach cassandra thrift def import org apach cassandra thrift def import org apach cassandra trace trace import static org apach cassandra util util public final class meta data public final string public final class extend abstract replic strategi strategi class public final map string string strategi option privat final map string meta data meta data public final boolean durabl write meta data string class extend abstract replic strategi strategi class map string string strategi option boolean durabl write iter meta data def strategi class strategi class null network topolog strategi class strategi class strategi option strategi option map string meta data cfmap hash map string meta data meta data cfm def cfmap put cfm cfm meta data collect unmodifi map cfmap durabl write durabl write user creat keyspac public static meta data keyspac string string strategi map string string option boolean durabl write throw configur class extend abstract replic strategi cls abstract replic strategi class strategi cls equal local strategi class throw configur unabl strategi class local strategi reserv intern return keyspac cls option durabl write collect meta data empti list public static meta data keyspac string class extend abstract replic strategi strategi class map string string option boolean durabl write iter meta data def return meta data strategi class option durabl write def public static meta data clone meta data ksm iter meta data def return meta data ksm ksm strategi class ksm strategi option ksm durabl write def public static meta data system keyspac list meta data def array list meta data batchlog meta data rang xfer meta data local meta data peer meta data hint meta data index meta data counter meta data schema keyspac meta data schema column famili meta data schema column meta data status meta data hint meta data migrat meta data schema return meta data tabl local strategi class collect string string empti map true def public static meta data trace keyspac list meta data def array list meta data trace session meta data trace event return meta data trace simpl strategi class immut map replic factor true def public static meta data auth keyspac list meta data def array list meta data auth user return meta data auth simpl strategi class immut map replic factor true def public static meta data test metadata string class extend abstract replic strategi strategi class map string string strategi option meta data def return meta data strategi class strategi option true array list def public static meta data test metadata durabl string class extend abstract replic strategi strategi class map string string strategi option meta data def return meta data strategi class strategi option fals array list def public int hash code return hash code public boolean equal object obj obj instanceof meta data return fals meta data meta data obj return equal object util equal strategi class strategi class object util equal strategi option strategi option meta data equal meta data durabl write durabl write public map string meta data meta data return meta data overrid public string string string builder string builder append append rep strategi append strategi class simpl append append string util join meta data valu append append strategi option append strategi option string append durabl write append durabl write return string public static string convert strategi string return replac rack unawar strategi simpl strategi replac rack awar strategi network topolog strategi public static map string string opt final integ map string string ret hash map string string ret put replic factor string return ret public static meta data thrift def ksd meta data def throw configur class extend abstract replic strategi cls abstract replic strategi class ksd strategi class cls equal local strategi class throw configur unabl strategi class local strategi reserv intern return meta data ksd cls ksd strategi option null collect string string empti map ksd strategi option ksd durabl write array list def public def thrift list def def array list def meta data size meta data cfm meta data valu don expos correct handl thrift detail cfm thrift incompat def add cfm thrift def ksdef def strategi class def ksdef set strategi option strategi option ksdef set durabl write durabl write return ksdef public row mutat schema updat meta data state long modif timestamp return state schema modif timestamp public meta data valid throw configur meta data valid throw configur string format keyspac empti charact long alphanumer underscor charact schema attempt instanti throw config strategi option aren fulli form token metadata tmd storag servic instanc token metadata endpoint snitch ep databas descriptor endpoint snitch abstract replic strategi creat replic strategi strategi class tmd ep strategi option meta data cfm meta data valu cfm valid return public meta data reload attribut row def row system tabl read schema row def row null throw runtim string format schema definit tabl system tabl return schema def row collect meta data empti list public row mutat drop schema long timestamp row mutat row mutat tabl system tabl schema key delet queri path system tabl timestamp delet queri path system tabl timestamp delet queri path system tabl timestamp return public row mutat schema long timestamp row mutat row mutat tabl system tabl schema key column famili add system tabl add column column creat durabl write timestamp durabl write add column column creat strategi class timestamp strategi class add column column creat json strategi option timestamp strategi option meta data cfm meta data valu cfm schema timestamp return deseri onli keyspac attribut nest column famili param row keyspac attribut serial form return deseri keyspac def public static meta data schema row row iter meta data cfms untyp result set row result queri processor resultifi system schema keyspac row tri return meta data result string keyspac abstract replic strategi class result string strategi class json map result string strategi option result boolean durabl write cfms catch configur throw runtim deseri keyspac nest column famili param serial keyspac serial form param serial collect serial column famili return deseri keyspac def public static meta data schema row serial row serial map string meta data cfs deseri column famili serial return schema serial cfs valu deseri column famili level schema represent belong keyspac param row return map column famili metadata faster lookup public static map string meta data deseri column famili row row row null return collect empti map map string meta data cfms hash map string meta data untyp result set result queri processor resultifi system schema columnfamili row untyp result set row result result meta data cfm meta data schema result cfms put cfm cfm meta data cfm cfms valu row column row column definit read schema cfm cfm column definit column definit schema column row cfm cfm column metadata put return cfms 