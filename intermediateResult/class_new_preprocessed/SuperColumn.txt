licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra import java data input import java data output import java import java nio byte buffer import java secur messag digest import java util collect import java util compar import googl common base object import googl common collect iter import org apach cassandra config meta data import org apach cassandra marshal abstract type import org apach cassandra marshal marshal import org apach cassandra column serial import org apach cassandra util column sort map import org apach cassandra util data output buffer import org apach cassandra net messag servic import org apach cassandra util alloc import org apach cassandra util byte buffer util import org apach cassandra util heap alloc import org cliffc high scale lib block hash map public class super column extend abstract column implement column privat static final block hash map compar super column serial serial block hash map compar super column serial public static super column serial serial abstract type compar super column serial serial serial compar serial null serial super column serial compar serial put compar serial return serial public static disk atom serial disk serial abstract type compar return disk atom serial serial compar privat final byte buffer public super column byte buffer abstract type compar atom sort column factori creat compar fals super column byte buffer sort column column super column assert null assert remain column public super column clone shallow super column super column compar delet return public column clone super column super column column clone delet return public byte buffer return public collect column column return sort column public column column byte buffer column column column column column column assert column null column instanceof column return column calcul exact size column fli public int data size int size type size sizeof mark delet column column column size column data size return size return size super column serial org apach cassandra column serial size type size public int serial size type size type size calcul column size sync calcul size column famili serial byte size byte byte local delet time byte mark delet byte subcolumn size size constant size subcolumn int size remain int column size column column column column size column serial size type size int size type size sizeof short size size type size sizeof local delet time type size sizeof mark delet type size sizeof column size column size return size public long serial size tabl return serial size type size public long timestamp throw unsupport oper oper support super column public long min timestamp long min timestamp mark delet column column column min timestamp math min min timestamp column min timestamp return min timestamp public long max timestamp long max timestamp mark delet column column column max timestamp math max max timestamp column max timestamp return max timestamp public long live chang long max long column column column column mark delet column timestamp max max column timestamp return max public long mark delet return delet info top level delet mark delet public int local delet time return delet info top level delet local delet time public long cabl chang int gcbefor long max long column column column column local delet time gcbefor column timestamp max max column timestamp return max public byte buffer valu throw unsupport oper oper support super column overrid public void add column column column alloc alloc assert column instanceof column super column onli simpl column super add column column alloc column exist resolv column doe exist creat void put column super column column alloc alloc column column column column add column column alloc delet column public column diff column column column column diff super column column super column column compar super column column diff delet super column column delet info don worri column column shadow delet tombston sinc column generat resolv care column column column column column column intern column column column column intern null column diff add column column els column column diff column intern diff column column diff null column diff add column column diff column diff column empti column mark delet return column diff els return null public void updat digest messag digest digest assert null digest updat duplic data output buffer buffer data output buffer tri buffer write long mark delet catch throw runtim digest updat buffer data buffer length column column column column updat digest digest public string string abstract type compar string builder string builder append super column append compar string mark delet append delet append mark delet append append append compar column string column append return string public boolean live return live chang mark delet public column local copi column famili store cfs return local copi cfs heap alloc instanc public column local copi column famili store cfs alloc alloc don tri intern supercolumn becaus cassandra correct pollut intern map uniqu dynam valu super column super column alloc clone compar delet column column add column local copi cfs alloc return public column reconcil column return reconcil null null public column reconcil column alloc alloc throw unsupport oper oper unsupport super column public int serial flag throw unsupport oper super column don serial mask public void valid field meta data metadata throw marshal metadata compar valid column column column column valid field metadata overrid public boolean equal object return true null class class return fals super column super column equal return fals mark delet mark delet return fals local delet time local delet time return fals return iter element equal column column overrid public int hash code return object hash code mark delet local delet time column class super column serial implement column serial privat final abstract type compar public super column serial abstract type compar compar compar public abstract type compar return compar public void serial column column data output dos throw super column super column super column column byte buffer util write short length super column dos delet info serial serial super column delet info dos messag servic collect column column super column column dos write int column size column column column column serial serial column dos public column deseri data input dis throw return deseri dis column serial flag public column deseri data input dis column serial flag flag throw return deseri dis flag int system current time milli public column deseri data input dis column serial flag flag int expir befor throw byte buffer byte buffer util read short length dis delet info del info delet info serial deseri dis messag servic compar read number column int size dis read int column serial serial column serial column sort map pre sort map column sort map compar serial dis size flag expir befor super column super column super column atom sort column factori sort pre sort map fals super column delet del info return super column public long serial size column object type size type size return object serial size type size 