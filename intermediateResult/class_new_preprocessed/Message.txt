licens apach softwar foundat contributor licens agreement file distribut work addit inform regard copyright ownership licens file apach licens version licens file complianc licens obtain copi licens http www apach org licens requir applic law agre write softwar distribut licens distribut express impli licens specif languag govern permiss limit licens packag org apach cassandra transport import java util enum set import java util import org jboss netti buffer channel buffer import org jboss netti buffer channel buffer import org jboss netti channel import org jboss netti handler codec oneon decod import org jboss netti handler codec oneon encod import org slf logger import org slf logger factori import org apach cassandra transport messag import org apach cassandra servic queri state messag binari protocol public abstract class messag protect static final logger logger logger factori logger messag class public interfac codec extend messag extend codec public enum direct public static direct extract version int version direct return version direct public int add version int raw version return raw version raw version public enum type direct error messag codec direct startup messag codec direct readi messag codec direct authent messag codec direct credenti messag codec direct option messag codec direct support messag codec direct queri messag codec direct result messag codec direct prepar messag codec direct execut messag codec direct regist messag codec direct event messag codec public final int opcod public final direct direct public final codec codec privat static final type opcod idx static int max opcod type type type valu max opcod math max max opcod type opcod opcod idx type max opcod type type type valu opcod idx type opcod null throw illeg state duplic opcod opcod idx type opcod type privat type int opcod direct direct codec codec opcod opcod direct direct codec codec public static type opcod int opcod direct direct type opcod idx opcod null throw protocol string format unknown opcod opcod direct direct throw protocol string format wrong protocol direct expect opcod direct direct opcod return public final type type protect volatil connect connect privat volatil int stream protect messag type type type type public void attach connect connect connect connect public connect connect return connect public messag set stream int stream stream stream return public int stream return stream public abstract channel buffer encod public static abstract class request extend messag protect boolean trace request protect request type type super type type direct direct throw illeg argument public abstract respons execut queri state queri state public void set trace request trace request true public boolean trace request return trace request public static abstract class respons extend messag protect trace protect respons type type super type type direct direct throw illeg argument public messag set trace trace trace trace return public trace return trace public static class protocol decod extend decod public object decod channel handler context ctx channel channel object msg assert msg instanceof frame expect frame msg frame frame frame msg boolean request frame header type direct direct boolean trace frame header flag frame header flag trace request trace null util read uuid frame bodi messag messag frame header type codec decod frame bodi messag set stream frame header stream request assert messag instanceof request request req request messag req attach frame connect trace req set trace request els assert messag instanceof respons trace respons messag set trace trace return messag public static class protocol encod extend encod public object encod channel handler context ctx channel channel object msg assert msg instanceof messag expect messag msg messag messag messag msg channel buffer bodi messag encod enum set frame header flag flag enum set frame header flag class messag instanceof respons trace respons messag trace trace null bodi channel buffer wrap buffer util uuid trace bodi flag add frame header flag els assert messag instanceof request request messag trace request flag add frame header flag return frame creat messag type messag stream flag bodi messag connect public static class dispatch extend simpl channel upstream handler overrid public void messag receiv channel handler context ctx messag event assert messag instanceof messag expect messag messag messag instanceof respons throw protocol invalid respons messag receiv expect request request request request messag tri assert request connect instanceof server connect server connect connect server connect request connect connect valid messag request type logger debug receiv request respons respons request execut connect queri state request stream respons set stream request stream respons attach connect connect appli state transit request type respons type logger debug respond respons ctx channel write respons catch don propag caught assign stream ctx channel write error messag set stream request stream overrid public void caught final channel handler context ctx event throw ctx channel open channel futur futur ctx channel write error messag caus protocol close channel messag caus instanceof protocol futur add listen channel futur listen public void oper complet channel futur futur ctx channel close 